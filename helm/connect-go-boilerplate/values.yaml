# Default values for connect-go-boilerplate

# Gateway Configuration (Global or Shared)
gateway:
  enabled: true
  name: connect-gw
  className: envoy-gateway

keycloak:
  enabled: true
  name: connect-gw-keycloak
  instances: 1
  image:
    repository: quay.io/keycloak/keycloak
    tag: 26.0.0
  admin:
    secretName: basic-auth
    username: admin
    password: admin
  service:
    port: 8080
  db:
    secretName: keycloak-db-secret
    host: postgres
    port: 5432
    database: keycloak
    username: postgres
    password: password 
  hostname: localhost
  relativePath: /auth

connectGoBoilerplate:
  # Replica count
  replicaCount: 2

  # Image configuration
  image:
    registry: docker.io
    repository: library/connect-go-boilerplate
    tag: latest
    pullPolicy: IfNotPresent

  # ImagePullSecrets for private registry authentication
  imagePullSecrets: []
    # - name: harbor-secret

  # Service configuration
  service:
    type: ClusterIP
    port: 80
    targetPort: 9000
    # nodePort: 30000
    name: connect-go-boilerplate

  # Resources limits and requests
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

  # Health check - Liveness Probe (gRPC)
  # Native gRPC health check
  livenessProbe:
    grpc:
      port: 9000
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  # Health check - Readiness Probe (gRPC)
  # Native gRPC health check
  readinessProbe:
    grpc:
      port: 9000
    initialDelaySeconds: 10
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 2
